<div>
  <h3>Service Bulletins</h3>
  <div *ngIf="isAdmin">
    <a mat-raised-button color="primary" [routerLink]="['create']">New</a>
  </div>  
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title> Filter </mat-panel-title>
    </mat-expansion-panel-header>
    <div fxLayout="row" fxLayoutAlign="space-evenly">
      <div class="vertical-form-field">
        <div class="label">S.B. No.</div>
        <div>
          <mat-form-field appearance="fill" class="no-label-field">
            <input matInput [formControl]="sbnoFilter" />
          </mat-form-field>
        </div>
      </div>

      <div class="vertical-form-field">
        <div class="label">Customer</div>
        <div>
          <mat-form-field appearance="fill" class="no-label-field">
            <input matInput [formControl]="customerFilter" />
          </mat-form-field>
        </div>
      </div>
      <div class="vertical-form-field">
        <div class="label">Aircraft</div>
        <div>
          <mat-form-field appearance="fill" class="no-label-field">
            <input matInput [formControl]="aircraftFilter" />
          </mat-form-field>
        </div>
      </div>
      <div class="vertical-form-field">
        <div class="label">Model</div>
        <div>
          <mat-form-field appearance="fill" class="no-label-field">
            <input matInput [formControl]="modelFilter" />
          </mat-form-field>
        </div>
      </div>
    </div>

    <div style="float: right;">
      <button mat-raised-button color="primary" (click)="clearFilter()">
        Clear Filter
      </button>
    </div>
  </mat-expansion-panel>

  <div class="mat-elevation-z8">
    <table *ngIf="dataSource" mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="sbno">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>S.B. No.</th>
        <td mat-cell *matCellDef="let row">
          <a mat-button color="primary" [routerLink]="[row.id]" target="_blank">{{
            row.sbno
          }}</a>
        </td>
      </ng-container>
      <ng-container matColumnDef="entity">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Entity</th>
        <td mat-cell *matCellDef="let row">{{ row.entity }}</td>
      </ng-container>
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Type</th>
        <td mat-cell *matCellDef="let row">{{ row.type }}</td>
      </ng-container>
      <ng-container matColumnDef="modelNumber">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Mod. No.</th>
        <td mat-cell *matCellDef="let row">{{ row.modelNumber }}</td>
      </ng-container>
      <ng-container matColumnDef="customer">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Customer</th>
        <td mat-cell *matCellDef="let row">{{ row.customer }}</td>
      </ng-container>
      <ng-container matColumnDef="initialDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Initial Date</th>
        <td mat-cell *matCellDef="let row">
          {{ row.initialDate | date: "shortDate" }}
        </td>
      </ng-container>
      <ng-container matColumnDef="manualRev">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Rev Lev</th>
        <td mat-cell *matCellDef="let row">{{ row.manualRev }}</td>
      </ng-container>
      <ng-container matColumnDef="revDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Revision Date</th>
        <td mat-cell *matCellDef="let row">
          {{ row.revDate | date: "shortDate" }}
        </td>
      </ng-container>
      <ng-container matColumnDef="view">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>View</th>
        <td mat-cell *matCellDef="let row">{{ row.view }}</td>
      </ng-container>
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let row">{{ row.description }}</td>
      </ng-container>
      <ng-container matColumnDef="aircraft">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Aircraft</th>
        <td mat-cell *matCellDef="let row">{{ row.aircraft }}</td>
      </ng-container>
      <ng-container matColumnDef="model">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Model</th>
        <td mat-cell *matCellDef="let row">{{ row.model || "" }}</td>
      </ng-container>
      <ng-container matColumnDef="jobNumber">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Job Number</th>
        <td mat-cell *matCellDef="let row">{{ row.jobNumber || "" }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">
          No data matching the filter
        </td>
      </tr>
    </table>
    <mat-paginator
      [pageSizeOptions]="[10, 25, 50, 100]"
      aria-label="Select page of Service Bulletin"
    ></mat-paginator>
  </div>
</div>
